*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent;}
html{background:#000000;}
html.light{background:#f9f9f9;}
body{font-family:'Inter',sans-serif;min-height:100vh;display:flex;background:transparent;color:#f9fafb;overflow:hidden;transition:0.3s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:relative;}
/* Android optimizations */
body.android{overflow-x:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch;overscroll-behavior-y:contain;}
body.android .main{padding-bottom:calc(env(safe-area-inset-bottom,0) + 100px);overflow-y:auto;overflow-x:hidden;}
body.light{color:#1e1e2f;}
button{cursor:pointer;outline:none;border:none;position:relative;transition:0.3s;}
button:disabled{opacity:0.6;cursor:not-allowed;}
.sidebar{width:240px;background:linear-gradient(145deg,rgba(0,0,0,0.95),rgba(10,10,10,0.95));color:#fff;display:flex;flex-direction:column;padding:20px 20px 10px;box-shadow:2px 0 10px rgba(0,0,0,0.2);align-items:center;justify-content:space-between;position:relative;z-index:1;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);}
body.light .sidebar{background:linear-gradient(145deg,rgba(224,224,224,0.95),rgba(207,207,207,0.95));color:#1e1e2f;}
.sidebar img{width:80px;height:80px;border-radius:50%;object-fit:cover;border:2px solid #3b82f6;}
.sidebar .profile-container{display:flex;flex-direction:column;align-items:center;gap:15px;padding-bottom:20px;}
.sidebar .header{display:flex;align-items:center;justify-content:center;gap:10px;width:100%;}
.sidebar h2{font-size:1.6em;font-weight:700;color:inherit;text-align:center;}
.sidebar .account-icon{background:linear-gradient(135deg,#0a0a0a,#1a1a1a);color:#cbd5e1;padding:8px;border-radius:8px;font-size:16px;display:flex;align-items:center;justify-content:center;width:36px;height:36px;}
.sidebar .account-icon:hover{background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;}
body.light .sidebar .account-icon{background:linear-gradient(135deg,#d1d5db,#e5e5e5);color:#1e1e2f;}
body.light .sidebar .account-icon:hover{background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;}
.sidebar button{background:linear-gradient(135deg,#0a0a0a,#1a1a1a);color:#cbd5e1;padding:12px 18px;font-size:16px;margin-bottom:10px;border-radius:12px;display:flex;align-items:center;gap:10px;font-weight:500;justify-content:center;width:100%;text-align:center;min-height:44px;}
.sidebar button span{flex:1;}
.sidebar button.active, .sidebar button:hover{background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;}
body.android .sidebar button{padding:14px 18px;min-height:48px;}
body.light .sidebar button{background:linear-gradient(135deg,#d1d5db,#e5e5e5);color:#1e1e2f;}
body.light .sidebar button.active, body.light .sidebar button:hover{background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;}
.main{flex:1;padding:30px;overflow-y:auto;overflow-x:hidden;position:relative;transition:0.3s;color:inherit;display:none;z-index:1;}
.tab{display:none;}
.tab.active{display:block;}
input, select{width:100%;padding:10px 12px;margin-top:5px;border-radius:10px;border:1px solid #222222;background:#0a0a0a;color:#f9fafb;transition:0.3s;}
body.light input, body.light select{background:#fff;color:#1e1e2f;border:1px solid #999;}
input:focus, select:focus{border-color:#3b82f6;box-shadow:0 0 5px rgba(59,130,246,0.3);outline:none;}
/* Android input optimizations - prevent zoom on focus */
body.android input, body.android select, body.android textarea{font-size:16px;min-height:44px;}
/* Custom select with profile pictures */
.custom-select-wrapper{position:relative;width:100%;margin-top:5px;}
.custom-select{width:100%;padding:10px 35px 10px 12px;border-radius:10px;border:1px solid #222222;background:#0a0a0a;color:#f9fafb;cursor:pointer;display:flex;align-items:center;gap:10px;min-height:44px;transition:0.3s;position:relative;}
.custom-select:hover{border-color:#3b82f6;}
body.light .custom-select{background:#fff;color:#1e1e2f;border:1px solid #999;}
.custom-select .placeholder{color:#999;}
.custom-select .selected-user{display:flex;align-items:center;gap:10px;flex:1;}
.custom-select .user-avatar{width:24px;height:24px;border-radius:50%;object-fit:cover;border:2px solid #3b82f6;}
.custom-select .dropdown-arrow{position:absolute;right:12px;transition:transform 0.3s;pointer-events:none;}
.custom-select.open .dropdown-arrow{transform:rotate(180deg);}
.custom-select-dropdown{position:absolute;width:100%;max-height:200px;overflow-y:auto;background:#0a0a0a;border:1px solid #222222;border-radius:10px;margin-top:5px;display:none;z-index:100;box-shadow:0 4px 12px rgba(0,0,0,0.3);}
.custom-select-dropdown.open{display:block;}
body.light .custom-select-dropdown{background:#fff;border:1px solid #999;}
.custom-select-option{padding:10px 12px;display:flex;align-items:center;gap:10px;cursor:pointer;transition:0.2s;}
.custom-select-option:hover{background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;}
.custom-select-option .user-avatar{width:32px;height:32px;border-radius:50%;object-fit:cover;border:2px solid #3b82f6;}
.custom-select-option .user-name{flex:1;}
input[type="file"]{padding:5px;}
input[type="number"]{width:100px;}
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;transition:0.3s;transform:scale(0.8);z-index:1000;overflow:auto;}
.modal.active{opacity:1;pointer-events:auto;transform:scale(1);}
.modal-content{background:linear-gradient(145deg,#0a0a0a,#1a1a1a);color:#f9fafb;padding:25px;border-radius:20px;width:400px;max-width:90%;max-height:90vh;overflow:auto;box-shadow:0 8px 20px rgba(0,0,0,0.3);position: relative;}
/* Android modal optimizations */
body.android .modal-content{max-width:95%;max-height:85vh;margin:10px;padding:20px;}
body.android .modal{padding:env(safe-area-inset-top,0) env(safe-area-inset-right,0) env(safe-area-inset-bottom,0) env(safe-area-inset-left,0);}
.modal-particles {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	pointer-events: none;
	z-index: 0;
}
body.light .modal-content{background:linear-gradient(145deg,#fff,#f0f0f0);color:#1e1e2f;}
.modal-content h3{margin-bottom:15px;}
.modal-content h1{font-size:2em;font-weight:700;text-align:center;margin-bottom:10px;}
.modal-content .logo{display:block;margin:0 auto 15px;width:100px;height:100px;min-width:100px;min-height:100px;border-radius:50%;object-fit:cover;border:4px solid #3b82f6;aspect-ratio:1/1;box-shadow:0 0 0 2px rgba(59,130,246,0.2);}
body.light .modal-content .logo{border-color:#3b82f6;box-shadow:0 0 0 2px rgba(59,130,246,0.2);}
.modal-btn{width:100%;padding:12px;border-radius:12px;border:none;margin-top:10px;background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;font-weight:600;transition:0.3s;min-height:44px;}
.modal-btn:hover{background:linear-gradient(135deg,#2563eb,#3b82f6);transform:scale(1.03);}
body.android .modal-btn{padding:14px;min-height:48px;font-size:16px;}
.modal-btn.loading::after{content:'...';}
.modal-btn.secondary{background:linear-gradient(135deg,#6b7280,#9ca3af);color:#fff;}
.modal-btn.secondary:hover{background:linear-gradient(135deg,#4b5563,#6b7280);}
body.light .modal-btn.secondary{background:linear-gradient(135deg,#9ca3af,#d1d5db);color:#1e1e2f;}
body.light .modal-btn.secondary:hover{background:linear-gradient(135deg,#6b7280,#9ca3af);}
.close-btn{position:absolute;top:10px;right:10px;background:none;color:#cbd5e1;font-size:20px;padding:5px;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;}
.close-btn:hover{background:linear-gradient(135deg,#ef4444,#f87171);color:#fff;transform:scale(1.1);}
body.android .close-btn{width:44px;height:44px;font-size:24px;}
body.light .close-btn{color:#4b5563;}
body.light .close-btn:hover{background:linear-gradient(135deg,#ef4444,#f87171);color:#fff;}
.show-pass-btn, .generate-pass-btn, .share-btn, .autofill-btn, .category-btn{margin-left:10px;padding:2px 8px;background:linear-gradient(135deg,#3b82f6,#60a5fa);border-radius:5px;color:#fff;font-size:12px;display:flex;align-items:center;justify-content:center;cursor:pointer;}
.show-pass-btn:hover, .generate-pass-btn:hover, .share-btn:hover, .autofill-btn:hover, .category-btn:hover{background:linear-gradient(135deg,#2563eb,#3b82f6);}
.vault-card{background:linear-gradient(135deg,#0a0a0a,#1a1a1a);border-radius:15px;padding:20px;margin-bottom:15px;transition: transform 0.3s, box-shadow 0.3s, opacity 0.5s;opacity:0;transform: translateY(20px);cursor:grab;user-select:none;display:flex;flex-direction:row;gap:15px;align-items:center;box-shadow:0 4px 6px rgba(0,0,0,0.1);flex-wrap:wrap;}
body.light .vault-card{background:linear-gradient(135deg,#e5e5e5,#d4d4d4);color:#1e1e2f;box-shadow:0 4px 6px rgba(0,0,0,0.05);}
.vault-card.show{opacity:1;transform: translateY(0);}
.vault-card:hover{transform: translateY(-5px);box-shadow:0 6px 12px rgba(0,0,0,0.2);}
body.android .vault-card{cursor:pointer;-webkit-tap-highlight-color:rgba(59,130,246,0.1);}
body.light .vault-card:hover{box-shadow:0 6px 12px rgba(0,0,0,0.1);}
.vault-card.expiring-soon, .vault-card.expired {border: 2px solid #f59e0b;}
.vault-card.expired {border-color: #ef4444;}
.vault-item{display:flex;flex-direction:row;gap:10px;align-items:center;min-width:150px;}
.vault-item b{font-weight:600;min-width:80px;}
.vault-item .password-field{display:flex;align-items:center;gap:5px;}
.site-icon{width:20px;height:20px;border-radius:4px;object-fit:contain;margin-right:8px;vertical-align:middle;font-size:18px;}
.site-icon-fallback{width:20px;height:20px;margin-right:8px;vertical-align:middle;font-size:18px;}
.vault-item input[readonly]{background:none;border:none;color:inherit;cursor:pointer;flex:1;}
.vault-item .actions{display:flex;gap:5px;justify-content:flex-start;align-items:center;}
.vault-item button.btn-copy, .vault-item button.btn-edit, .vault-item button.btn-delete, .vault-item button.autofill-btn, .vault-item button.share-btn{width:32px;height:32px;border-radius:8px;font-size:16px;display:flex;align-items:center;justify-content:center;transition:transform 0.2s, box-shadow 0.2s;}
body.android .vault-item button.btn-copy, body.android .vault-item button.btn-edit, body.android .vault-item button.btn-delete, body.android .vault-item button.autofill-btn, body.android .vault-item button.share-btn{width:44px;height:44px;font-size:18px;}
.vault-item button.btn-copy{background:linear-gradient(135deg,#10b981,#34d399);color:#fff;}
.vault-item button.btn-copy:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(16,185,129,0.3);}
.vault-item button.btn-edit{background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;}
.vault-item button.btn-edit:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(59,130,246,0.3);}
.vault-item button.btn-delete{background:linear-gradient(135deg,#ef4444,#f87171);color:#fff;}
.vault-item button.btn-delete:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(239,68,68,0.3);}
.vault-item button.autofill-btn{background:linear-gradient(135deg,#8b5cf6,#a78bfa);color:#fff;}
.vault-item button.autofill-btn:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(139,92,246,0.3);}
.vault-item button.share-btn{background:linear-gradient(135deg,#f59e0b,#fbbf24);color:#fff;}
.vault-item button.share-btn:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(245,158,11,0.3);}
.drag-handle{cursor:grab;font-size:16px;color:#f59e0b;}
.strength{height:8px;width:100%;border-radius:5px;background:#1a1a1a;margin-top:5px;overflow:hidden;}
body.light .strength{background:#ccc;}
.strength-bar{height:100%;width:0%;border-radius:5px;transition:width 0.5s ease, background 0.5s ease;}
#particleCanvas{position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:0;}
#passwordChartContainer{width:100%;height:100%;position:absolute;top:0;left:0;margin:0;padding:30px;}
#passwordChartContainer canvas{width:100% !important;height:100% !important;}
/* Android-friendly dashboard sizing */
.android #passwordChartContainer{position:relative;top:auto;left:auto;height:400px;max-height:50vh;padding:15px;margin-top:8px;background:rgba(0,0,0,0.2);border-radius:15px;}
body.light.android #passwordChartContainer{background:rgba(0,0,0,0.05);}
.android #passwordChartContainer canvas{width:100% !important;height:100% !important;max-height:100%;}
#auditLog{max-height:200px;overflow-y:auto;border:1px solid #222222;padding:10px;border-radius:10px;}
body.light #auditLog{border:1px solid #999;}
.search-container{position:relative;margin-bottom:20px;display:flex;align-items:center;}
#searchBar{margin-bottom:0;flex:1;padding-right:40px;}
.clear-search-btn{position:absolute;right:10px;background:none;color:#cbd5e1;font-size:18px;padding:5px;border-radius:50%;width:30px;height:30px;display:none;align-items:center;justify-content:center;cursor:pointer;transition:0.2s;}
.clear-search-btn:hover{background:rgba(239,68,68,0.2);color:#ef4444;}
body.light .clear-search-btn{color:#4b5563;}
body.light .clear-search-btn:hover{background:rgba(239,68,68,0.2);color:#ef4444;}
#dashboard h2{margin-bottom:8px;}
#categoryManager{margin-top:20px;}
#categoryManager select, #categoryManager input, #categoryManager button{margin-bottom:10px;}
.share-qr-container{text-align:center;}
.share-qr-container img{max-width:200px;margin:10px auto;}
#shareLink{display:none;}
.toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,#0a0a0a,#1a1a1a);padding:15px 25px;border-radius:12px;color:#fff;opacity:0;pointer-events:none;transition:all 0.5s ease;z-index:1000;}
body.light .toast{background:linear-gradient(135deg,#666,#888);color:#fff;}
.toast.show{opacity:1;}
#deletePrompt{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;transition:0.3s;z-index:2000;}
#deletePrompt.active{opacity:1;pointer-events:auto;}
#deletePrompt .modal-content{max-width:350px;text-align:center;}
#deletePrompt .modal-btn {margin:10px 5px;}
#deleteAccountModal .modal-content, #deleteAllAccountsModal .modal-content, #generatePasswordModal .modal-content, #mfaModal .modal-content, #shareModal .modal-content{width:400px;}
.account-delete-section{display:flex;flex-direction:column;gap:10px;margin-top:20px;}
.account-delete-section select{margin-bottom:10px;}
.account-delete-section .btn-delete{font-size:14px;padding:10px 16px;border-radius:10px;font-weight:600;background:linear-gradient(135deg,#ef4444,#f87171);box-shadow:0 2px 4px rgba(0,0,0,0.2);transition:transform 0.2s, box-shadow 0.2s;}
.account-delete-section .btn-delete:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(239,68,68,0.4);background:linear-gradient(135deg,#dc2626,#ef4444);}
body.light .account-delete-section .btn-delete{background:linear-gradient(135deg,#f87171,#ef4444);box-shadow:0 2px 4px rgba(0,0,0,0.1);}
body.light .account-delete-section .btn-delete:hover{background:linear-gradient(135deg,#ef4444,#dc2626);box-shadow:0 4px 8px rgba(239,68,68,0.3);}
.password-container{position:relative;display:flex;align-items:center;gap:5px;}
.checkbox-group{display:flex;gap:10px;margin-top:10px;}
.checkbox-group label{display:flex;align-items:center;gap:5px;}
.open-login-btn{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:15px 30px;border-radius:12px;background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;font-weight:600;font-size:16px;display:none;}
.open-login-btn:hover{background:linear-gradient(135deg,#2563eb,#3b82f6);transform:translate(-50%, -50%) scale(1.05);}
body.light .open-login-btn{background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;}
body.light .open-login-btn:hover{background:linear-gradient(135deg,#2563eb,#3b82f6);}
input:invalid {border-color: #ef4444;}
.error-message {color: #ef4444; font-size: 12px; margin-top: 5px; display: none;}

/* === Android-specific layout tweaks === */
.android .sidebar{display:none !important;}
.android .main{padding:20px 16px calc(env(safe-area-inset-bottom,0) + 100px);} /* extra bottom padding for nav bar + safe area */
.topbar{position:sticky;top:0;left:0;right:0;z-index:10;display:none;align-items:center;justify-content:space-between;padding:12px 16px;background:linear-gradient(145deg,#000000,#0a0a0a);color:#fff;border-bottom:1px solid rgba(255,255,255,0.08);} 
body.light .topbar{background:linear-gradient(145deg,#e0e0e0,#cfcfcf);color:#1e1e2f;border-bottom:1px solid rgba(0,0,0,0.08);} 
.topbar h1,.topbar h2{font-size:1.1rem;font-weight:700;}
.topbar .topbar-avatar{background:transparent;padding:0;width:auto;height:auto;}
.topbar .topbar-avatar img{width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid #3b82f6;display:block;}
.bottom-nav{position:fixed;bottom:0;left:0;right:0;z-index:20;display:none;gap:10px;justify-content:space-around;align-items:center;padding:10px calc(env(safe-area-inset-right,0) + 8px) calc(env(safe-area-inset-bottom,0) + 10px) calc(env(safe-area-inset-left,0) + 8px);background:linear-gradient(145deg,#000000,#0a0a0a);border-top:1px solid rgba(255,255,255,0.08);} 
body.light .bottom-nav{background:linear-gradient(145deg,#e0e0e0,#cfcfcf);border-top:1px solid rgba(0,0,0,0.08);} 
.bottom-nav button{flex:1;max-width:90px;background:transparent;color:#cbd5e1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:8px;border-radius:10px;font-size:12px;min-height:52px;}
body.light .bottom-nav button{color:#1e1e2f;}
.bottom-nav button.active{background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;}
.bottom-nav button span{margin-top:4px;font-weight:600;}
body.android .bottom-nav button{padding:10px;min-height:56px;font-size:13px;}
/* Keep toasts visible above bottom nav on Android */
body.android .toast{bottom:calc(env(safe-area-inset-bottom,0) + 90px);} 
.add-tabs{display:flex;gap:10px;margin-bottom:20px;}
.add-tab-btn{flex:1;padding:12px;background:linear-gradient(135deg,#0a0a0a,#1a1a1a);color:#cbd5e1;border:none;border-radius:10px;cursor:pointer;font-size:14px;font-weight:600;transition:0.3s;min-height:44px;}
.add-tab-btn.active{background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;}
.add-tab-btn:hover{transform:translateY(-2px);}
body.android .add-tab-btn{padding:14px;min-height:48px;font-size:15px;}
body.light .add-tab-btn{background:linear-gradient(135deg,#d1d5db,#e5e5e5);color:#1e1e2f;}
body.light .add-tab-btn.active{background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;}
.add-content{display:none;animation:fadeIn 0.3s ease-in;}
.add-content.active{display:block;}
.add-content input,.add-content select{margin-top:10px;width:100%;}
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}